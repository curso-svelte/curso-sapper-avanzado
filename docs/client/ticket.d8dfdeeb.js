import{S as e,i as s,s as a,a as r,e as t,t as n,H as c,g as o,d as i,c as l,b as u,f as d,h,w as f,j as p,k as v,n as g,o as k,m as I,I as m,J as E,K as b,l as w,q as G}from"./client.7af5bb77.js";function y(e){let s,a,c,f,k,I,m;return{c(){s=t("div"),a=n("Contenido restringido"),c=r(),f=t("button"),k=n("Entrar con Google"),this.h()},l(e){s=l(e,"DIV",{});var r=u(s);a=d(r,"Contenido restringido"),r.forEach(o),c=i(e),f=l(e,"BUTTON",{class:!0});var t=u(f);k=d(t,"Entrar con Google"),t.forEach(o),this.h()},h(){h(f,"class","google svelte-1cwp0kf")},m(r,t){p(r,s,t),v(s,a),p(r,c,t),p(r,f,t),v(f,k),I||(m=w(f,"click",e[4]),I=!0)},p:g,d(e){e&&o(s),e&&o(c),e&&o(f),I=!1,m()}}}function A(e){let s,a;return{c(){s=t("div"),a=n("Ahora puede ver este contenido")},l(e){s=l(e,"DIV",{});var r=u(s);a=d(r,"Ahora puede ver este contenido"),r.forEach(o)},m(e,r){p(e,s,r),v(s,a)},p:g,d(e){e&&o(s)}}}function T(e){let s,a,k,I,m,E,b,w;function G(e,s){return e[0]?A:y}let T=G(e),D=T(e);return{c(){s=r(),a=t("div"),k=t("div"),I=r(),m=t("div"),E=t("a"),b=n("Regresar a la página principal"),w=r(),D.c(),this.h()},l(e){c('[data-svelte="svelte-1ble7ox"]',document.head).forEach(o),s=i(e),a=l(e,"DIV",{class:!0,style:!0});var r=u(a);k=l(r,"DIV",{class:!0}),u(k).forEach(o),I=i(r),m=l(r,"DIV",{class:!0});var t=u(m);E=l(t,"A",{href:!0,class:!0});var n=u(E);b=d(n,"Regresar a la página principal"),n.forEach(o),w=i(t),D.l(t),t.forEach(o),r.forEach(o),this.h()},h(){document.title="Ticket",h(k,"class","gradient svelte-1cwp0kf"),h(E,"href","./"),h(E,"class","return svelte-1cwp0kf"),h(m,"class","description svelte-1cwp0kf"),h(a,"class","Ticket svelte-1cwp0kf"),f(a,"background","url("+e[1].URL_BIG_IMAGE+e[2].url+")")},m(e,r){p(e,s,r),p(e,a,r),v(a,k),v(a,I),v(a,m),v(m,E),v(E,b),v(m,w),D.m(m,null)},p(e,[s]){T===(T=G(e))&&D?D.p(e,s):(D.d(1),D=T(e),D&&(D.c(),D.m(m,null))),6&s&&f(a,"background","url("+e[1].URL_BIG_IMAGE+e[2].url+")")},i:g,o:g,d(e){e&&o(s),e&&o(a),D.d()}}}async function D(e,s){const{user:a}=s;return{user:a}}function V(e,s,a){let r,t;k(e,G,(e=>a(2,t=e)));let{user:n}=s;const{session:c}=I();return k(e,c,(e=>a(1,r=e))),m((()=>{firebase.auth().onIdTokenChanged((async e=>{try{if(!e)return void E(c,r.user=!1,r);const s=await e.getIdToken();E(c,r.user=s,r)}catch(e){console.error(e.message)}}))})),e.$$set=e=>{"user"in e&&a(0,n=e.user)},[n,r,t,c,async function(){try{const e=new firebase.auth.GoogleAuthProvider;await auth.signInWithPopup(e),b("./ticket")}catch(e){console.error(e.message)}}]}export default class extends e{constructor(e){super(),s(this,e,V,T,a,{user:0})}}export{D as preload};
