import{u as r,_ as t,a as n,b as e,c as a,i as s,d as c,S as o,s as u,f as i,e as f,v as l,N as p,k as h,j as v,g as d,h as g,w as k,l as m,C as y,m as b,n as w,p as x,q as E,t as I,r as R,O as G,P as D,o as T,y as A,Q as _}from"./client.7e0643ca.js";import{_ as V}from"./asyncToGenerator.5229e80b.js";function C(r){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}();return function(){var a,s=n(r);if(t){var c=n(this).constructor;a=Reflect.construct(s,arguments,c)}else a=s.apply(this,arguments);return e(this,a)}}function P(r){var t,n,e,a,s,c,o;return{c:function(){t=f("div"),n=l("Contenido restringido"),e=i(),a=f("button"),s=l("Entrar con Google"),this.h()},l:function(r){t=d(r,"DIV",{});var c=g(t);n=k(c,"Contenido restringido"),c.forEach(h),e=v(r),a=d(r,"BUTTON",{class:!0});var o=g(a);s=k(o,"Entrar con Google"),o.forEach(h),this.h()},h:function(){m(a,"class","google svelte-1cwp0kf")},m:function(u,i){b(u,t,i),w(t,n),b(u,e,i),b(u,a,i),w(a,s),c||(o=T(a,"click",r[4]),c=!0)},p:E,d:function(r){r&&h(t),r&&h(e),r&&h(a),c=!1,o()}}}function j(r){var t,n;return{c:function(){t=f("div"),n=l("Ahora puede ver este contenido")},l:function(r){t=d(r,"DIV",{});var e=g(t);n=k(e,"Ahora puede ver este contenido"),e.forEach(h)},m:function(r,e){b(r,t,e),w(t,n)},p:E,d:function(r){r&&h(t)}}}function B(r){var t,n,e,a,s,c,o,u;function I(r,t){return r[0]?j:P}var R=I(r),G=R(r);return{c:function(){t=i(),n=f("div"),e=f("div"),a=i(),s=f("div"),c=f("a"),o=l("Regresar a la página principal"),u=i(),G.c(),this.h()},l:function(r){p('[data-svelte="svelte-1ble7ox"]',document.head).forEach(h),t=v(r),n=d(r,"DIV",{class:!0,style:!0});var i=g(n);e=d(i,"DIV",{class:!0}),g(e).forEach(h),a=v(i),s=d(i,"DIV",{class:!0});var f=g(s);c=d(f,"A",{href:!0,class:!0});var l=g(c);o=k(l,"Regresar a la página principal"),l.forEach(h),u=v(f),G.l(f),f.forEach(h),i.forEach(h),this.h()},h:function(){document.title="Ticket",m(e,"class","gradient svelte-1cwp0kf"),m(c,"href","./"),m(c,"class","return svelte-1cwp0kf"),m(s,"class","description svelte-1cwp0kf"),m(n,"class","Ticket svelte-1cwp0kf"),y(n,"background","url("+r[1].URL_BIG_IMAGE+r[2].url+")")},m:function(r,i){b(r,t,i),b(r,n,i),w(n,e),w(n,a),w(n,s),w(s,c),w(c,o),w(s,u),G.m(s,null)},p:function(r,t){var e=x(t,1)[0];R===(R=I(r))&&G?G.p(r,e):(G.d(1),(G=R(r))&&(G.c(),G.m(s,null))),6&e&&y(n,"background","url("+r[1].URL_BIG_IMAGE+r[2].url+")")},i:E,o:E,d:function(r){r&&h(t),r&&h(n),G.d()}}}function U(r,t){return L.apply(this,arguments)}function L(){return(L=V(r.mark((function t(n,e){var a;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.user,r.abrupt("return",{user:a});case 2:case"end":return r.stop()}}),t)})))).apply(this,arguments)}function M(t,n,e){var a,s;I(t,A,(function(r){return e(2,s=r)}));var c=n.user,o=R().session;function u(){return(u=V(r.mark((function t(){var n;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=new firebase.auth.GoogleAuthProvider,r.next=4,auth.signInWithPopup(n);case 4:D("./ticket"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0.message);case 10:case"end":return r.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return I(t,o,(function(r){return e(1,a=r)})),G((function(){firebase.auth().onIdTokenChanged(function(){var t=V(r.mark((function t(n){var e;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n){r.next=4;break}return _(o,a.user=!1,a),r.abrupt("return");case 4:return r.next=6,n.getIdToken();case 6:e=r.sent,_(o,a.user=e,a),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0.message);case 13:case"end":return r.stop()}}),t,null,[[0,10]])})));return function(r){return t.apply(this,arguments)}}())})),t.$$set=function(r){"user"in r&&e(0,c=r.user)},[c,a,s,o,function(){return u.apply(this,arguments)}]}var N=function(r){t(e,o);var n=C(e);function e(r){var t;return a(this,e),t=n.call(this),s(c(t),r,M,B,u,{user:0}),t}return e}();export default N;export{U as preload};
